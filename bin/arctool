#!/usr/bin/env
"""Manage archiving of data."""

import click

from dtool import create_archive, create_manifest, new_archive


@click.group()
def cli():
    pass


@cli.command()
@click.option('--staging_path',
              help='Path to staging area where new archive will be created',
              default='.',
              type=click.Path(exists=True))
def new(staging_path):
    print('Starting new archive in {}'.format(staging_path))
    new_archive(staging_path)


@cli.group()
def manifest():
    pass


@manifest.command()
@click.argument('path', 'Path to archive directory.',
                type=click.Path(exists=True))
def create(path):
    create_manifest(path)


@cli.group()
def archive():
    pass


if __name__ == "__main__":
    cli()
